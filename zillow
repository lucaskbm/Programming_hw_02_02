import numpy as np 
import pandas as pd 
import seaborn as sns
import matplotlib.pyplot as plt
import seaborn as sns
import statsmodels.api as sm

import sklearn
from sklearn import metrics 
from sklearn.metrics import roc_auc_score

from sklearn.model_selection import train_test_split
from sklearn.linear_model import LogisticRegression
from sklearn.metrics import classification_report
from sklearn.metrics import confusion_matrix

#note: this should be changed with your directory information
df = pd.read_csv("/Users/juliarusso/Downloads/City_zhvi_bdrmcnt_1_uc_sfrcondo_tier_0.33_0.67_sm_sa_month.csv")

df.head()

#To get the results only for Miami
df_Miami = df[df['RegionName'] == 'Miami']
df_Miami.head()



## Updates to be reviewed 

# Create X and y arrays
X = df[["RegionName","State","SizeRank"]]
y = df.drop(["RegionType", "RegionName","State", "StateName", "Metro","CountyName","SizeRank"],axis = 'columns')

#Split 
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

# Trying to clean the data 
label_encoder = preprocessing.LabelEncoder()
X['RegionName'] = label_encoder.fit_transform(X['RegionName'])
X['State'] = label_encoder.fit_transform(X['State'])

# Instantiate the model
reg = LinearRegression()
# Fit the model to the data
reg.fit(X_train, y_train) #breaks (could not convert string to float)

# Make predictions
y_pred = reg.predict(X_test)
print("Predictions: {}, Actual Values: {}".format(y_pred[:2], y_test[:2]))
